{"remainingRequest":"C:\\Users\\nizar\\OneDrive\\Documents\\github\\TediProject-1\\Antonis\\tediproject\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\nizar\\OneDrive\\Documents\\github\\TediProject-1\\Antonis\\tediproject\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!C:\\Users\\nizar\\OneDrive\\Documents\\github\\TediProject-1\\Antonis\\tediproject\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\nizar\\OneDrive\\Documents\\github\\TediProject-1\\Antonis\\tediproject\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\nizar\\OneDrive\\Documents\\github\\TediProject-1\\Antonis\\tediproject\\src\\components\\userMainPage\\userPostList.vue?vue&type=template&id=3d6423a5&scoped=true","dependencies":[{"path":"C:\\Users\\nizar\\OneDrive\\Documents\\github\\TediProject-1\\Antonis\\tediproject\\src\\components\\userMainPage\\userPostList.vue","mtime":1630653289138},{"path":"C:\\Users\\nizar\\OneDrive\\Documents\\github\\TediProject-1\\Antonis\\tediproject\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\nizar\\OneDrive\\Documents\\github\\TediProject-1\\Antonis\\tediproject\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\nizar\\OneDrive\\Documents\\github\\TediProject-1\\Antonis\\tediproject\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1626466876000},{"path":"C:\\Users\\nizar\\OneDrive\\Documents\\github\\TediProject-1\\Antonis\\tediproject\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\nizar\\OneDrive\\Documents\\github\\TediProject-1\\Antonis\\tediproject\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1626466876000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVuZGVyTGlzdCBhcyBfcmVuZGVyTGlzdCwgRnJhZ21lbnQgYXMgX0ZyYWdtZW50LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2ssIHJlc29sdmVDb21wb25lbnQgYXMgX3Jlc29sdmVDb21wb25lbnQsIGNyZWF0ZVZOb2RlIGFzIF9jcmVhdGVWTm9kZSwgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUsIHB1c2hTY29wZUlkIGFzIF9wdXNoU2NvcGVJZCwgcG9wU2NvcGVJZCBhcyBfcG9wU2NvcGVJZCB9IGZyb20gInZ1ZSI7CgpfcHVzaFNjb3BlSWQoImRhdGEtdi0zZDY0MjNhNSIpOwoKdmFyIF9ob2lzdGVkXzEgPSB7CiAgcmVmOiAic2Nyb2xsQ29tcG9uZW50Igp9OwoKX3BvcFNjb3BlSWQoKTsKCmV4cG9ydCBmdW5jdGlvbiByZW5kZXIoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgdmFyIF9jb21wb25lbnRfdXNlclBvc3QgPSBfcmVzb2x2ZUNvbXBvbmVudCgidXNlclBvc3QiKTsKCiAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoInVsIiwgbnVsbCwgWyhfb3BlbkJsb2NrKHRydWUpLCBfY3JlYXRlRWxlbWVudEJsb2NrKF9GcmFnbWVudCwgbnVsbCwgX3JlbmRlckxpc3QoX2N0eC5wb3N0cywgZnVuY3Rpb24gKHBvc3QpIHsKICAgIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImxpIiwgewogICAgICBrZXk6IHBvc3QKICAgIH0sIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF91c2VyUG9zdCwgewogICAgICBwb3N0OiBwb3N0LAogICAgICB1c2VyOiBfY3R4LnVzZXIKICAgIH0sIG51bGwsIDgKICAgIC8qIFBST1BTICovCiAgICAsIFsicG9zdCIsICJ1c2VyIl0pXSk7CiAgfSksIDEyOAogIC8qIEtFWUVEX0ZSQUdNRU5UICovCiAgKSldKV0sIDUxMgogIC8qIE5FRURfUEFUQ0ggKi8KICApOwp9"},{"version":3,"sources":["C:\\Users\\nizar\\OneDrive\\Documents\\github\\TediProject-1\\Antonis\\tediproject\\src\\components\\userMainPage\\userPostList.vue"],"names":[],"mappings":";;;;;AACS,EAAA,GAAG,EAAC;;;;;;;;uBAAT,mBAAA,CAMM,KANN,EAAA,UAAA,EAMM,CALF,mBAAA,CAIK,IAJL,EAIK,IAJL,EAIK,E,kBAHD,mBAAA,CAEK,SAFL,EAEK,IAFL,EAEK,WAAA,CAFc,IAAA,CAAA,KAEd,EAFmB,UAAb,IAAa,EAAT;yBAAf,mBAAA,CAEK,IAFL,EAEK;AAFsB,MAAA,GAAG,EAAE;AAE3B,KAFL,EAAoC,CAChC,YAAA,CAAqC,mBAArC,EAAqC;AAA1B,MAAA,IAAI,EAAE,IAAoB;AAAb,MAAA,IAAI,EAAE,IAAA,CAAA;AAAO,KAArC,E,IAAA,E;;AAAA,M,gBAAA,CADgC,CAApC,C;GAEK,CAFL,E;;AAAA,GAGC,EAJL,CAKE,CANN,E;;AAAA,G","sourcesContent":["  <template>\r\n    <div ref='scrollComponent'>\r\n        <ul>\r\n            <li v-for=\"post in posts\" :key=\"post\">\r\n                <userPost :post=\"post\" :user=\"user\"/>\r\n            </li>\r\n        </ul>\r\n    </div>\r\n</template>\r\n<script lang=\"ts\">\r\nimport { defineComponent, onMounted, onUnmounted, ref } from 'vue'\r\nimport userPost from \"./userPost.vue\";\r\nimport { loginCheck, givenType, postType } from \"../../tsLibs/auth\"\r\nimport { getPosts } from \"../../tsLibs/postLoading\"\r\n\r\nexport default defineComponent({\r\n    name: \"userPostList\",\r\n    components: {\r\n        userPost,\r\n    },\r\n    async setup() {\r\n        onMounted(() => {\r\n            window.addEventListener(\"scroll\", handleScroll)\r\n        })\r\n\r\n        onUnmounted(() => {\r\n            window.removeEventListener(\"scroll\", handleScroll)\r\n        })\r\n        const user = ref<givenType>();\r\n        const posts = ref<postType[]>([]);\r\n        await loginCheck().then((data: givenType) =>{\r\n            user.value = data;\r\n        })\r\n        if(user.value){\r\n            getPosts(user.value._id.toString(), 10).then(data => {\r\n                posts.value.push(...data);\r\n            });\r\n        }\r\n\r\n        const loadMorePosts = () =>{\r\n            if(user.value)\r\n            getPosts(user.value._id.toString(), 10).then(data => {\r\n                posts.value.push(...data);\r\n            })\r\n        }\r\n\r\n\r\n        const scrollComponent = ref<HTMLDivElement>()\r\n\r\n\r\n        const handleScroll = () => {\r\n            let element: HTMLDivElement = scrollComponent.value as HTMLDivElement;\r\n            if(element?.getBoundingClientRect().bottom < window.innerHeight+1){\r\n                // loadMorePosts();\r\n            }\r\n        }\r\n\r\n        return { user, posts, scrollComponent }\r\n    },\r\n})\r\n</script>\r\n<style scoped>\r\nul {\r\n    display: flex;\r\n    flex-direction: column;\r\n    list-style-type: none;\r\n    padding: 0;\r\n    margin: 0;\r\n}\r\n\r\nul li {\r\n    padding: 0px 0px 10px 0px;\r\n    margin: 0;\r\n}\r\n</style>"],"sourceRoot":""}]}