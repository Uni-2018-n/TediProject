{"remainingRequest":"C:\\Users\\nizar\\OneDrive\\Documents\\github\\TediProject-1\\Antonis\\tediproject\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\nizar\\OneDrive\\Documents\\github\\TediProject-1\\Antonis\\tediproject\\node_modules\\ts-loader\\index.js??ref--13-2!C:\\Users\\nizar\\OneDrive\\Documents\\github\\TediProject-1\\Antonis\\tediproject\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\nizar\\OneDrive\\Documents\\github\\TediProject-1\\Antonis\\tediproject\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\nizar\\OneDrive\\Documents\\github\\TediProject-1\\Antonis\\tediproject\\src\\components\\userMainPage\\userPost.vue?vue&type=script&lang=ts","dependencies":[{"path":"C:\\Users\\nizar\\OneDrive\\Documents\\github\\TediProject-1\\Antonis\\tediproject\\src\\components\\userMainPage\\userPost.vue","mtime":1632238475792},{"path":"C:\\Users\\nizar\\OneDrive\\Documents\\github\\TediProject-1\\Antonis\\tediproject\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\nizar\\OneDrive\\Documents\\github\\TediProject-1\\Antonis\\tediproject\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\nizar\\OneDrive\\Documents\\github\\TediProject-1\\Antonis\\tediproject\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"C:\\Users\\nizar\\OneDrive\\Documents\\github\\TediProject-1\\Antonis\\tediproject\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\nizar\\OneDrive\\Documents\\github\\TediProject-1\\Antonis\\tediproject\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1626466876000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJDOi9Vc2Vycy9uaXphci9PbmVEcml2ZS9Eb2N1bWVudHMvZ2l0aHViL1RlZGlQcm9qZWN0LTEvQW50b25pcy90ZWRpcHJvamVjdC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovVXNlcnMvbml6YXIvT25lRHJpdmUvRG9jdW1lbnRzL2dpdGh1Yi9UZWRpUHJvamVjdC0xL0FudG9uaXMvdGVkaXByb2plY3Qvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQtaW5kZXguanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgeyBkZWZpbmVDb21wb25lbnQsIHJlZiB9IGZyb20gJ3Z1ZSc7CmltcG9ydCB1c2VyQ29tbWVudHMgZnJvbSAnLi4vdXNlck1haW5QYWdlL3VzZXJDb21tZW50cy52dWUnOwppbXBvcnQgdXNlclVuZGVyUG9zdEltZyBmcm9tICIuLi91c2VyTWFpblBhZ2UvdXNlclVuZGVyUG9zdEltZy52dWUiOwppbXBvcnQgaW1nU2xpZGVTaG93IGZyb20gIi4uL2ltZ1NsaWRlU2hvdy52dWUiOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgdXNlckNvbW1lbnRMaXN0IGZyb20gJy4vdXNlckNvbW1lbnRMaXN0LnZ1ZSc7CmltcG9ydCB7IGdldFBpYyB9IGZyb20gIi4uLy4uL3RzTGlicy9mdW5jcyI7CmV4cG9ydCBkZWZhdWx0IGRlZmluZUNvbXBvbmVudCh7CiAgbmFtZTogInVzZXJQb3N0IiwKICBwcm9wczogewogICAgcG9zdDogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgdXNlcjogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICB1c2VyQ29tbWVudHM6IHVzZXJDb21tZW50cywKICAgIHVzZXJVbmRlclBvc3RJbWc6IHVzZXJVbmRlclBvc3RJbWcsCiAgICBpbWdTbGlkZVNob3c6IGltZ1NsaWRlU2hvdywKICAgIHVzZXJDb21tZW50TGlzdDogdXNlckNvbW1lbnRMaXN0CiAgfSwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAocHJvcHMpIHsKICAgIHZhciBwb3N0Q29tbWVudHMgPSByZWYocHJvcHMucG9zdC5jb21tZW50cyk7CiAgICB2YXIgZmxhZyA9IHJlZihwcm9wcy5wb3N0Lmxpa2VzLmZpbHRlcihmdW5jdGlvbiAobGlrZXMpIHsKICAgICAgcmV0dXJuIGxpa2VzLnVzZXIudG9TdHJpbmcoKSA9PT0gcHJvcHMudXNlci5faWQ7CiAgICB9KS5sZW5ndGggPiAwKTsKICAgIHZhciBwb3N0VGV4dFRlbXAgPSByZWYocHJvcHMucG9zdC50ZXh0LnRvU3RyaW5nKCkpOwogICAgdmFyIGxvYWRGbGFnID0gcmVmKGZhbHNlKTsKICAgIHZhciBjb21tZW50RmxhZyA9IHJlZihmYWxzZSk7CiAgICB2YXIgcG9zdFRleHQgPSByZWYoIiIpOwogICAgdmFyIGNvbW1lbnRUZXh0ID0gcmVmKCIiKTsKCiAgICBpZiAocG9zdFRleHRUZW1wLnZhbHVlLmxlbmd0aCA+IDMwMCkgewogICAgICBwb3N0VGV4dC52YWx1ZSA9IHBvc3RUZXh0VGVtcC52YWx1ZS5zdWJzdHJpbmcoMCwgMzAwKSArICIuLi4iOwogICAgICBsb2FkRmxhZy52YWx1ZSA9IHRydWU7CiAgICB9IGVsc2UgewogICAgICBwb3N0VGV4dC52YWx1ZSA9IHBvc3RUZXh0VGVtcC52YWx1ZTsKICAgICAgbG9hZEZsYWcudmFsdWUgPSBmYWxzZTsKICAgIH0KCiAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKERhdGUucGFyc2UocHJvcHMucG9zdC5jcmVhdGVkQXQudG9TdHJpbmcoKSkpOwogICAgdmFyIHRpbWUgPSByZWYoZGF0ZS5nZXRIb3VycygpICsgJzonICsgZGF0ZS5nZXRNaW51dGVzKCkpOwogICAgdmFyIGZ1bGwgPSByZWYoZGF0ZS5nZXREYXRlKCkgKyAnLycgKyBkYXRlLmdldE1vbnRoKCkgKyAnLycgKyBkYXRlLmdldEZ1bGxZZWFyKCkgKyAnLCAnICsgZGF0ZS5nZXRIb3VycygpICsgJzonICsgZGF0ZS5nZXRNaW51dGVzKCkpOwoKICAgIHZhciBmb2N1cyA9IGZ1bmN0aW9uIGZvY3VzKGUpIHsKICAgICAgaWYgKGUudGFyZ2V0LmZpcnN0Q2hpbGQpIGUudGFyZ2V0LmZpcnN0Q2hpbGQuZm9jdXMoKTsKICAgIH07CgogICAgdmFyIGFsbENvdW50ID0gcmVmKHByb3BzLnBvc3QucGljdHVyZXMubGVuZ3RoICsgcHJvcHMucG9zdC52aWRlb3MubGVuZ3RoKTsKICAgIHZhciB2b2ljZXNVUkwgPSByZWYoW10pOwogICAgcHJvcHMucG9zdC52b2ljZV9yZWNvcmRpbmdzLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHsKICAgICAgdm9pY2VzVVJMLnZhbHVlLnB1c2goImh0dHBzOi8vbG9jYWxob3N0OjgwMDAvdXBsb2FkL2ZpbGVzLyIgKyBlbGVtZW50LnRvU3RyaW5nKCkpOwogICAgfSk7CiAgICB2YXIgdG90YWxVUkwgPSByZWYoW10pOwogICAgcHJvcHMucG9zdC52aWRlb3MuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkgewogICAgICB0b3RhbFVSTC52YWx1ZS5wdXNoKHsKICAgICAgICB2aWRlbzogImh0dHBzOi8vbG9jYWxob3N0OjgwMDAvdXBsb2FkL2ZpbGVzLyIgKyBlbGVtZW50LnRvU3RyaW5nKCksCiAgICAgICAgdDogMQogICAgICB9KTsKICAgIH0pOwogICAgcHJvcHMucG9zdC5waWN0dXJlcy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgICAgIHRvdGFsVVJMLnZhbHVlLnB1c2goewogICAgICAgIHBob3RvOiAiaHR0cHM6Ly9sb2NhbGhvc3Q6ODAwMC91cGxvYWQvZmlsZXMvIiArIGVsZW1lbnQudG9TdHJpbmcoKSwKICAgICAgICB0OiAwCiAgICAgIH0pOwogICAgfSk7CiAgICB2YXIgaW1nRmxhZyA9IHJlZihmYWxzZSk7CgogICAgdmFyIGltZ0Nsb3NlVHJpZ2VyID0gZnVuY3Rpb24gaW1nQ2xvc2VUcmlnZXIoKSB7CiAgICAgIGltZ0ZsYWcudmFsdWUgPSBmYWxzZTsKICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCJwb3B1cE9wZW4iKTsKICAgIH07CgogICAgdmFyIGltZ09wZW5UcmlnZXIgPSBmdW5jdGlvbiBpbWdPcGVuVHJpZ2VyKGluZGV4KSB7CiAgICAgIGltZ0ZsYWcudmFsdWUgPSB0cnVlOwogICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoInBvcHVwT3BlbiIpOwogICAgfTsKCiAgICB2YXIgbGlrZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciByZXNwb25zZTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoImh0dHBzOi8vbG9jYWxob3N0OjgwMDAvcG9zdHMvbGlrZS8iICsgcHJvcHMudXNlci5faWQgKyAnLycgKyBwcm9wcy5wb3N0Ll9pZCk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoIWZsYWcudmFsdWUpIHsKICAgICAgICAgICAgICAgICAgcHJvcHMucG9zdC5saWtlcy5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBfaWQ6IHByb3BzLnBvc3QuX2lkLAogICAgICAgICAgICAgICAgICAgIHVzZXI6IHByb3BzLnVzZXIuX2lkCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgcHJvcHMucG9zdC5saWtlcy5zcGxpY2UocHJvcHMucG9zdC5saWtlcy5maW5kSW5kZXgoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS51c2VyID09IHByb3BzLnVzZXIuX2lkOwogICAgICAgICAgICAgICAgICB9KSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgZmxhZy52YWx1ZSA9ICFmbGFnLnZhbHVlOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDExOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA4OwogICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgwKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCIqKkxJS0UgRVJST1IqKiIpOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1swLCA4XV0pOwogICAgICB9KSk7CgogICAgICByZXR1cm4gZnVuY3Rpb24gbGlrZSgpIHsKICAgICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9OwogICAgfSgpOwoKICAgIHZhciBjb21tZW50UmVzZXQgPSBmdW5jdGlvbiBjb21tZW50UmVzZXQoKSB7CiAgICAgIGNvbW1lbnRUZXh0LnZhbHVlID0gIiI7CiAgICB9OwoKICAgIHZhciBzdWJtaXRDb21tZW50ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgdmFyIF9yZWYyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgX3Bvc3RDb21tZW50cyR2YWx1ZSwgcmVzcG9uc2U7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoIShjb21tZW50VGV4dC52YWx1ZSAhPSAnJykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAxOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoImh0dHBzOi8vbG9jYWxob3N0OjgwMDAvcG9zdHMvY29tbWVudC8iICsgcHJvcHMucG9zdC5faWQsIHsKICAgICAgICAgICAgICAgICAgdXNlcjogcHJvcHMudXNlci5faWQsCiAgICAgICAgICAgICAgICAgIHRleHQ6IGNvbW1lbnRUZXh0LnZhbHVlCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIGNvbW1lbnRSZXNldCgpOwoKICAgICAgICAgICAgICAgIChfcG9zdENvbW1lbnRzJHZhbHVlID0gcG9zdENvbW1lbnRzLnZhbHVlKS5zcGxpY2UuYXBwbHkoX3Bvc3RDb21tZW50cyR2YWx1ZSwgWzAsIHBvc3RDb21tZW50cy52YWx1ZS5sZW5ndGggKyAxXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHJlc3BvbnNlLmRhdGEpKSk7IC8vIGNvbnNvbGUubG9nKHBvc3RDb21tZW50cykKICAgICAgICAgICAgICAgIC8vIHByb3BzLnBvc3QuY29tbWVudHMgPSByZXNwb25zZS5kYXRhLnNsaWNlKDApOwogICAgICAgICAgICAgICAgLy8gcHJvcHMucG9zdC5jb21tZW50cy5zcGxpY2UoMCwgcHJvcHMucG9zdC5jb21tZW50cy5sZW5ndGgpCiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhwcm9wcy5wb3N0LmNvbW1lbnRzKQogICAgICAgICAgICAgICAgLy8gcHJvcHMucG9zdC5jb21tZW50cy5zcGxpY2UoMCwgcmVzcG9uc2UuZGF0YS5sZW5ndGgsIC4uLnJlc3BvbnNlLmRhdGEpCiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhwcm9wcy5wb3N0LmNvbW1lbnRzKQoKCiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gOTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0MlsiY2F0Y2giXSgxKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCIqKkNPTU1FTlQgRVJST1IqKiIpOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCBudWxsLCBbWzEsIDldXSk7CiAgICAgIH0pKTsKCiAgICAgIHJldHVybiBmdW5jdGlvbiBzdWJtaXRDb21tZW50KCkgewogICAgICAgIHJldHVybiBfcmVmMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9OwogICAgfSgpOwoKICAgIHZhciB1cGRhdGVUeHQgPSBmdW5jdGlvbiB1cGRhdGVUeHQoZXYpIHsKICAgICAgdmFyIGUgPSBldi50YXJnZXQ7CgogICAgICBpZiAoY29tbWVudFRleHQudmFsdWUgPT0gIiIpIHsKICAgICAgICBlLnN0eWxlLmhlaWdodCA9ICdpbml0aWFsJzsKICAgICAgfSBlbHNlIHsKICAgICAgICBlLnN0eWxlLmhlaWdodCA9ICdhdXRvJzsKICAgICAgICBlLnN0eWxlLmhlaWdodCA9IGUuc2Nyb2xsSGVpZ2h0ICsgJ3B4JzsKICAgICAgfQogICAgfTsKCiAgICByZXR1cm4gewogICAgICBsb2FkRmxhZzogbG9hZEZsYWcsCiAgICAgIGZsYWc6IGZsYWcsCiAgICAgIHBvc3RUZXh0OiBwb3N0VGV4dCwKICAgICAgcG9zdFRleHRUZW1wOiBwb3N0VGV4dFRlbXAsCiAgICAgIGNvbW1lbnRGbGFnOiBjb21tZW50RmxhZywKICAgICAgZm9jdXM6IGZvY3VzLAogICAgICB0aW1lOiB0aW1lLAogICAgICBmdWxsOiBmdWxsLAogICAgICBnZXRQaWM6IGdldFBpYywKICAgICAgYWxsQ291bnQ6IGFsbENvdW50LAogICAgICB2b2ljZXNVUkw6IHZvaWNlc1VSTCwKICAgICAgdG90YWxVUkw6IHRvdGFsVVJMLAogICAgICBpbWdGbGFnOiBpbWdGbGFnLAogICAgICBpbWdDbG9zZVRyaWdlcjogaW1nQ2xvc2VUcmlnZXIsCiAgICAgIGltZ09wZW5UcmlnZXI6IGltZ09wZW5UcmlnZXIsCiAgICAgIGxpa2U6IGxpa2UsCiAgICAgIGNvbW1lbnRUZXh0OiBjb21tZW50VGV4dCwKICAgICAgc3VibWl0Q29tbWVudDogc3VibWl0Q29tbWVudCwKICAgICAgcG9zdENvbW1lbnRzOiBwb3N0Q29tbWVudHMsCiAgICAgIHVwZGF0ZVR4dDogdXBkYXRlVHh0CiAgICB9OwogIH0KfSk7"},{"version":3,"sources":["C:\\Users\\nizar\\OneDrive\\Documents\\github\\TediProject-1\\Antonis\\tediproject\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\nizar\\OneDrive\\Documents\\github\\TediProject-1\\Antonis\\tediproject\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\nizar\\OneDrive\\Documents\\github\\TediProject-1\\Antonis\\tediproject\\src\\components\\userMainPage\\userPost.vue?vue&type=script&lang=ts"],"names":[],"mappings":"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","sourcesContent":["\r\nimport { defineComponent, PropType, ref, watch } from 'vue'\r\nimport userComments from '../userMainPage/userComments.vue'\r\nimport { postType, givenType } from \"../../tsLibs/auth\"\r\nimport userUnderPostImg from \"../userMainPage/userUnderPostImg.vue\"\r\nimport imgSlideShow from \"../imgSlideShow.vue\"\r\nimport axios from 'axios'\r\nimport userCommentList from './userCommentList.vue'\r\nimport { getPic } from \"../../tsLibs/funcs\";\r\n\r\n\r\nexport default defineComponent({\r\n    name: \"userPost\",\r\n    props: {\r\n        post: {type: Object as PropType<postType>, required: true},\r\n        user: {type: Object as PropType<givenType>, required: true},\r\n    },\r\n    components: {\r\n        userComments,\r\n        userUnderPostImg,\r\n        imgSlideShow,\r\n        userCommentList\r\n    },\r\n    setup(props) {\r\n        const postComments = ref(props.post.comments)\r\n        const flag = ref(props.post.likes.filter(likes => likes.user.toString() === props.user._id).length > 0 );\r\n        const postTextTemp = ref<string>(props.post.text.toString());\r\n        const loadFlag = ref(false);\r\n        const commentFlag = ref(false);\r\n        const postText = ref(\"\");\r\n        const commentText = ref(\"\");\r\n\r\n        if(postTextTemp.value.length > 300){\r\n            postText.value = postTextTemp.value.substring(0,300) + \"...\";\r\n            loadFlag.value = true;\r\n        }else{\r\n            postText.value = postTextTemp.value;\r\n            loadFlag.value = false;\r\n        }\r\n        let date: Date =new Date(Date.parse(props.post.createdAt.toString()));\r\n        const time = ref(date.getHours() + ':' + date.getMinutes());\r\n        const full = ref(date.getDate() + '/' + date.getMonth() + '/' + date.getFullYear() + ', ' + date.getHours() + ':' + date.getMinutes());\r\n\r\n        const focus = (e: Event) => {\r\n            if(((e.target as HTMLDivElement).firstChild as HTMLTextAreaElement))\r\n            ((e.target as HTMLDivElement).firstChild as HTMLTextAreaElement).focus();\r\n        }\r\n\r\n        const allCount = ref(props.post.pictures.length + props.post.videos.length)\r\n\r\n        const voicesURL = ref<{}[]>([]);\r\n        props.post.voice_recordings.forEach(element => {\r\n            voicesURL.value.push(\"https://localhost:8000/upload/files/\"+element.toString());\r\n        })\r\n\r\n        const totalURL = ref<{}[]>([]);\r\n\r\n        props.post.videos.forEach(element => {\r\n            totalURL.value.push({video: \"https://localhost:8000/upload/files/\"+element.toString(), t: 1});\r\n        })\r\n        props.post.pictures.forEach(element => {\r\n            totalURL.value.push({photo: \"https://localhost:8000/upload/files/\"+element.toString(), t: 0});\r\n        })\r\n\r\n        const imgFlag = ref(false);\r\n\r\n        const imgCloseTriger = () => {\r\n            imgFlag.value = false;\r\n            document.body.classList.remove(\"popupOpen\");\r\n        }\r\n\r\n        const imgOpenTriger = (index: number) => {\r\n            imgFlag.value=true;\r\n            document.body.classList.add(\"popupOpen\");\r\n        }\r\n\r\n        const like = async () => {\r\n            try{\r\n                const response = await axios.post(\"https://localhost:8000/posts/like/\"+ props.user._id + '/' + props.post._id)\r\n                if(!flag.value){\r\n                    props.post.likes.push({_id: props.post._id, user: props.user._id})\r\n                }else{\r\n                    props.post.likes.splice(props.post.likes.findIndex(item => item.user == props.user._id))\r\n                }\r\n                flag.value=!flag.value;\r\n            } catch(error) {\r\n                console.log(\"**LIKE ERROR**\")\r\n            }\r\n        }\r\n        const commentReset=  () =>{\r\n            commentText.value = \"\";\r\n        }\r\n\r\n        const submitComment = async () =>{\r\n            if(commentText.value != ''){\r\n                try{\r\n                    const response = await axios.post(\"https://localhost:8000/posts/comment/\"+props.post._id, {\r\n                        user: props.user._id,\r\n                        text: commentText.value,\r\n                    })\r\n                    commentReset();\r\n                    postComments.value.splice(0, postComments.value.length+1, ...response.data);\r\n                    // console.log(postComments)\r\n                    // props.post.comments = response.data.slice(0);\r\n                    // props.post.comments.splice(0, props.post.comments.length)\r\n                    // console.log(props.post.comments)\r\n                    // props.post.comments.splice(0, response.data.length, ...response.data)\r\n                    // console.log(props.post.comments)\r\n                }catch(error){\r\n                    console.log(\"**COMMENT ERROR**\")\r\n                }\r\n            }\r\n        }\r\n\r\n        const updateTxt = (ev: Event) =>{\r\n            const e = ev.target as HTMLTextAreaElement;\r\n            if(commentText.value == \"\"){\r\n                e.style.height = 'initial'\r\n            }else{\r\n                e.style.height = 'auto';\r\n                e.style.height = e.scrollHeight +'px';\r\n            }\r\n        }\r\n\r\n        return { loadFlag, flag, postText, postTextTemp, commentFlag, focus, time, full, getPic,\r\n        allCount, voicesURL, totalURL, imgFlag, imgCloseTriger, imgOpenTriger, like, commentText, submitComment, postComments,\r\n        updateTxt }\r\n    },\r\n})\r\n"],"sourceRoot":""}]}