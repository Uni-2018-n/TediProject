{"remainingRequest":"C:\\Users\\nizar\\OneDrive\\Documents\\github\\TediProject-1\\Antonis\\tediproject\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\nizar\\OneDrive\\Documents\\github\\TediProject-1\\Antonis\\tediproject\\node_modules\\ts-loader\\index.js??ref--13-2!C:\\Users\\nizar\\OneDrive\\Documents\\github\\TediProject-1\\Antonis\\tediproject\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\nizar\\OneDrive\\Documents\\github\\TediProject-1\\Antonis\\tediproject\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\nizar\\OneDrive\\Documents\\github\\TediProject-1\\Antonis\\tediproject\\src\\views\\Communications.vue?vue&type=script&lang=ts","dependencies":[{"path":"C:\\Users\\nizar\\OneDrive\\Documents\\github\\TediProject-1\\Antonis\\tediproject\\src\\views\\Communications.vue","mtime":1631546156055},{"path":"C:\\Users\\nizar\\OneDrive\\Documents\\github\\TediProject-1\\Antonis\\tediproject\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\nizar\\OneDrive\\Documents\\github\\TediProject-1\\Antonis\\tediproject\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\nizar\\OneDrive\\Documents\\github\\TediProject-1\\Antonis\\tediproject\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"C:\\Users\\nizar\\OneDrive\\Documents\\github\\TediProject-1\\Antonis\\tediproject\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\nizar\\OneDrive\\Documents\\github\\TediProject-1\\Antonis\\tediproject\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1626466876000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL25pemFyL09uZURyaXZlL0RvY3VtZW50cy9naXRodWIvVGVkaVByb2plY3QtMS9BbnRvbmlzL3RlZGlwcm9qZWN0L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgeyBkZWZpbmVDb21wb25lbnQsIHJlZiB9IGZyb20gJ3Z1ZSc7CmltcG9ydCBuYXZCYXIgZnJvbSAiLi4vY29tcG9uZW50cy9uYXZCYXIudnVlIjsKaW1wb3J0IEZvb3RlciBmcm9tICIuLi9jb21wb25lbnRzL2Zvb3Rlci52dWUiOwppbXBvcnQgY2hhdHMgZnJvbSAnLi4vY29tcG9uZW50cy9jb21tdW5pY2F0aW9uUGFnZS9jaGF0cy52dWUnOwppbXBvcnQgY2hhdCBmcm9tICcuLi9jb21wb25lbnRzL2NvbW11bmljYXRpb25QYWdlL2NoYXQudnVlJzsKaW1wb3J0IHBvcHVwU2VhcmNoIGZyb20gJy4uL2NvbXBvbmVudHMvY29tbXVuaWNhdGlvblBhZ2UvcG9wdXBTZWFyY2gudnVlJzsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHsgbG9naW5DaGVjayB9IGZyb20gIi4uL3RzTGlicy9hdXRoIjsKZXhwb3J0IGRlZmF1bHQgZGVmaW5lQ29tcG9uZW50KHsKICBuYW1lOiAiQ29tbXVuaWNhdGlvbnMiLAogIGNvbXBvbmVudHM6IHsKICAgIGNoYXQ6IGNoYXQsCiAgICBjaGF0czogY2hhdHMsCiAgICBuYXZCYXI6IG5hdkJhciwKICAgIEZvb3RlcjogRm9vdGVyLAogICAgcG9wdXBTZWFyY2g6IHBvcHVwU2VhcmNoCiAgfSwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAoKSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgdmFyIGN1cnJlbnQsIHVzZXIsIHRlbXAsIHJlc3BvbnNlLCBsb2FkZWQsIHNldEN1cnIsIHBvcHVwU2VhcmNoRmxhZzsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjdXJyZW50ID0gcmVmKCk7CiAgICAgICAgICAgICAgdXNlciA9IHJlZigpOwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDsKICAgICAgICAgICAgICByZXR1cm4gbG9naW5DaGVjaygpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgICAgICAgIHVzZXIudmFsdWUgPSBkYXRhOwogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIHRlbXAgPSByZWYoKTsKCiAgICAgICAgICAgICAgaWYgKCF1c2VyLnZhbHVlKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE2OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDY7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA5OwogICAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQoImh0dHBzOi8vbG9jYWxob3N0OjgwMDAvY2hhdC8iICsgdXNlci52YWx1ZS5faWQpOwoKICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgdGVtcC52YWx1ZSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxNjsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAxMzsKICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDJbImNhdGNoIl0oNik7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coIioqQ0hBVFMgTEVGVCBFUlJPUioqIik7CgogICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgIGxvYWRlZCA9IGZ1bmN0aW9uIGxvYWRlZCh0ZW1wKSB7CiAgICAgICAgICAgICAgICBjdXJyZW50LnZhbHVlID0gdGVtcDsKICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICBzZXRDdXJyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKGN1cnIpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9yZXNwb25zZSwgdGhpcmRSZXNwb25zZTsKCiAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXVzZXIudmFsdWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDE7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoImh0dHBzOi8vbG9jYWxob3N0OjgwMDAvY2hhdC9nZXQvIiArIHVzZXIudmFsdWUuX2lkICsgIi8iICsgY3Vycik7CgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3Jlc3BvbnNlID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MuZ2V0KCJodHRwczovL2xvY2FsaG9zdDo4MDAwL2NoYXQvIiArIHVzZXIudmFsdWUuX2lkKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlyZFJlc3BvbnNlID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnZhbHVlID0gdGhpcmRSZXNwb25zZS5kYXRhOwogICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNDsKICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDExOwogICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIioqKkVSUk9SKioqIik7CgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzEsIDExXV0pOwogICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBzZXRDdXJyKF94KSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIH0oKTsKCiAgICAgICAgICAgICAgcG9wdXBTZWFyY2hGbGFnID0gcmVmKGZhbHNlKTsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgewogICAgICAgICAgICAgICAgdXNlcjogdXNlciwKICAgICAgICAgICAgICAgIHRlbXA6IHRlbXAsCiAgICAgICAgICAgICAgICBjdXJyZW50OiBjdXJyZW50LAogICAgICAgICAgICAgICAgbG9hZGVkOiBsb2FkZWQsCiAgICAgICAgICAgICAgICBwb3B1cFNlYXJjaEZsYWc6IHBvcHVwU2VhcmNoRmxhZywKICAgICAgICAgICAgICAgIHNldEN1cnI6IHNldEN1cnIKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMjA6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMiwgbnVsbCwgW1s2LCAxM11dKTsKICAgIH0pKSgpOwogIH0KfSk7"},{"version":3,"sources":["C:\\Users\\nizar\\OneDrive\\Documents\\github\\TediProject-1\\Antonis\\tediproject\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\nizar\\OneDrive\\Documents\\github\\TediProject-1\\Antonis\\tediproject\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\nizar\\OneDrive\\Documents\\github\\TediProject-1\\Antonis\\tediproject\\src\\views\\Communications.vue?vue&type=script&lang=ts"],"names":[],"mappings":";;AACA,SAAS,eAAT,EAA0B,GAA1B,QAAqC,KAArC;AACA,OAAO,MAAP,MAAmB,0BAAnB;AACA,OAAO,MAAP,MAAmB,0BAAnB;AACA,OAAO,KAAP,MAAkB,2CAAlB;AACA,OAAO,IAAP,MAAiB,0CAAjB;AACA,OAAO,WAAP,MAAwB,iDAAxB;AACA,OAAO,KAAP,MAAkB,OAAlB;AACA,SAAS,UAAT,QAA+D,gBAA/D;AAEA,eAAe,eAAe,CAAC;AAC3B,EAAA,IAAI,EAAE,gBADqB;AAE3B,EAAA,UAAU,EAAE;AACR,IAAA,IAAI,EAAJ,IADQ;AAER,IAAA,KAAK,EAAL,KAFQ;AAGR,IAAA,MAAM,EAAN,MAHQ;AAIR,IAAA,MAAM,EAAN,MAJQ;AAKR,IAAA,WAAW,EAAX;AALQ,GAFe;AASrB,EAAA,KATqB,mBAShB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACD,cAAA,OADC,GACS,GAAG,EADZ;AAED,cAAA,IAFC,GAEM,GAAG,EAFT;AAAA;AAAA,qBAGD,UAAU,GAAG,IAAb,CAAkB,UAAC,IAAD,EAAoB;AACxC,gBAAA,IAAI,CAAC,KAAL,GAAa,IAAb;AACH,eAFK,CAHC;;AAAA;AAOD,cAAA,IAPC,GAOM,GAAG,EAPT;;AAAA,mBASJ,IAAI,CAAC,KATD;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,qBAWkB,KAAK,CAAC,GAAN,CAAU,iCAA+B,IAAI,CAAC,KAAL,CAAW,GAApD,CAXlB;;AAAA;AAWC,cAAA,QAXD;AAYL,cAAA,IAAI,CAAC,KAAL,GAAa,QAAQ,CAAC,IAAtB;AAZK;AAAA;;AAAA;AAAA;AAAA;AAcL,cAAA,OAAO,CAAC,GAAR,CAAY,sBAAZ;;AAdK;AAiBD,cAAA,MAjBC,GAiBQ,SAAT,MAAS,CAAC,IAAD,EAAmB;AAC9B,gBAAA,OAAO,CAAC,KAAR,GAAgB,IAAhB;AACH,eAnBM;;AAqBD,cAAA,OArBC;AAAA,mFAqBS,iBAAM,IAAN;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,+BACT,IAAI,CAAC,KADI;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,iCAGe,KAAK,CAAC,IAAN,CAAW,qCAAmC,IAAI,CAAC,KAAL,CAAW,GAA9C,GAAkD,GAAlD,GAAsD,IAAjE,CAHf;;AAAA;AAGF,0BAAA,SAHE;AAAA;AAAA,iCAIoB,KAAK,CAAC,GAAN,CAAU,iCAA+B,IAAI,CAAC,KAAL,CAAW,GAApD,CAJpB;;AAAA;AAIF,0BAAA,aAJE;AAKR,0BAAA,IAAI,CAAC,KAAL,GAAa,aAAa,CAAC,IAA3B;AALQ;AAAA;;AAAA;AAAA;AAAA;AAOR,0BAAA,OAAO,CAAC,GAAR,CAAY,aAAZ;;AAPQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBArBT;;AAAA,gCAqBD,OArBC;AAAA;AAAA;AAAA;;AAiCD,cAAA,eAjCC,GAiCiB,GAAG,CAAC,KAAD,CAjCpB;AAAA,gDAkCA;AAAE,gBAAA,IAAI,EAAJ,IAAF;AAAQ,gBAAA,IAAI,EAAJ,IAAR;AAAc,gBAAA,OAAO,EAAP,OAAd;AAAuB,gBAAA,MAAM,EAAN,MAAvB;AAA+B,gBAAA,eAAe,EAAf,eAA/B;AAAgD,gBAAA,OAAO,EAAP;AAAhD,eAlCA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAmCV;AA5C0B,CAAD,CAA9B","sourcesContent":["\r\nimport { defineComponent, ref } from 'vue';\r\nimport navBar from \"../components/navBar.vue\";\r\nimport Footer from \"../components/footer.vue\";\r\nimport chats from '../components/communicationPage/chats.vue';\r\nimport chat from '../components/communicationPage/chat.vue';\r\nimport popupSearch from '../components/communicationPage/popupSearch.vue';\r\nimport axios from 'axios';\r\nimport { loginCheck, givenType, chatsListType, currType } from \"../tsLibs/auth\";\r\n\r\nexport default defineComponent({\r\n    name: \"Communications\",\r\n    components: {\r\n        chat,\r\n        chats,\r\n        navBar,\r\n        Footer,\r\n        popupSearch,\r\n    },\r\n    async setup() {\r\n        const current = ref<currType>()\r\n        const user = ref<givenType>();\r\n        await loginCheck().then((data: givenType) =>{\r\n            user.value = data;\r\n        })\r\n\r\n        const temp = ref<chatsListType[]>();\r\n\r\n        if(user.value)\r\n        try {\r\n          const response = await axios.get(\"https://localhost:8000/chat/\"+user.value._id)\r\n          temp.value = response.data;\r\n        }catch(err){\r\n          console.log(\"**CHATS LEFT ERROR**\");\r\n        }\r\n\r\n        const loaded = (temp: currType) =>{\r\n            current.value = temp\r\n        }\r\n\r\n        const setCurr = async(curr: String) =>{\r\n            if(user.value)\r\n            try {\r\n                const response = await axios.post(\"https://localhost:8000/chat/get/\"+user.value._id+\"/\"+curr)\r\n                const thirdResponse = await axios.get(\"https://localhost:8000/chat/\"+user.value._id)\r\n                temp.value = thirdResponse.data\r\n            }catch(err){\r\n                console.log(\"***ERROR***\")\r\n            }\r\n\r\n        }\r\n\r\n        const popupSearchFlag = ref(false);\r\n        return { user, temp, current, loaded, popupSearchFlag, setCurr }\r\n    },\r\n})\r\n"],"sourceRoot":""}]}