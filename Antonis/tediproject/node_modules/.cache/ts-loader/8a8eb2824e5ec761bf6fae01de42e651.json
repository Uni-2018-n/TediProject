{"remainingRequest":"C:\\Users\\nizar\\OneDrive\\Documents\\github\\TediProject-1\\Antonis\\tediproject\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\nizar\\OneDrive\\Documents\\github\\TediProject-1\\Antonis\\tediproject\\node_modules\\ts-loader\\index.js??ref--13-2!C:\\Users\\nizar\\OneDrive\\Documents\\github\\TediProject-1\\Antonis\\tediproject\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\nizar\\OneDrive\\Documents\\github\\TediProject-1\\Antonis\\tediproject\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\nizar\\OneDrive\\Documents\\github\\TediProject-1\\Antonis\\tediproject\\src\\components\\communicationPage\\chats.vue?vue&type=script&lang=ts","dependencies":[{"path":"C:\\Users\\nizar\\OneDrive\\Documents\\github\\TediProject-1\\Antonis\\tediproject\\src\\components\\communicationPage\\chats.vue","mtime":1631546156042},{"path":"C:\\Users\\nizar\\OneDrive\\Documents\\github\\TediProject-1\\Antonis\\tediproject\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\nizar\\OneDrive\\Documents\\github\\TediProject-1\\Antonis\\tediproject\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\nizar\\OneDrive\\Documents\\github\\TediProject-1\\Antonis\\tediproject\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"C:\\Users\\nizar\\OneDrive\\Documents\\github\\TediProject-1\\Antonis\\tediproject\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\nizar\\OneDrive\\Documents\\github\\TediProject-1\\Antonis\\tediproject\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1626466876000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL25pemFyL09uZURyaXZlL0RvY3VtZW50cy9naXRodWIvVGVkaVByb2plY3QtMS9BbnRvbmlzL3RlZGlwcm9qZWN0L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCwgcmVmIH0gZnJvbSAndnVlJzsKaW1wb3J0IHVzZXJDaGF0cyBmcm9tICcuLi9jb21tdW5pY2F0aW9uUGFnZS91c2VyQ2hhdHMudnVlJzsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKZXhwb3J0IGRlZmF1bHQgZGVmaW5lQ29tcG9uZW50KHsKICBuYW1lOiAiY2hhdHMiLAogIHByb3BzOiB7CiAgICBpZDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgbG9hZGVkOiB7CiAgICAgIHR5cGU6IEZ1bmN0aW9uLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIHVzZXJzOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfQogIH0sCiAgY29tcG9uZW50czogewogICAgdXNlckNoYXRzOiB1c2VyQ2hhdHMKICB9LAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cChwcm9wcykgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgIHZhciBjaGF0dGVyLCBmaW5kT3RoZXIsIGN1cnJlbnQsIGxvYWQ7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY2hhdHRlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSh1c2VyKSB7CiAgICAgICAgICAgICAgICAgIHZhciByZXNwb25zZSwgX3Jlc3BvbnNlOwoKICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHVzZXIuY2hhdGVyc1swXSA9PT0gcHJvcHMuaWQpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxOwogICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQoImh0dHBzOi8vbG9jYWxob3N0OjgwMDAvdXNlcnMvIiArIHVzZXIuY2hhdGVyc1sxXSk7CgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIHJlc3BvbnNlLmRhdGEpOwoKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA4OwogICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIioqTEVGVCBVU0VSIEVSUk9SKioiKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIzOwogICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTM7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE2OwogICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQoImh0dHBzOi8vbG9jYWxob3N0OjgwMDAvdXNlcnMvIiArIHVzZXIuY2hhdGVyc1swXSk7CgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgICAgICAgICAgICAgIF9yZXNwb25zZSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgX3Jlc3BvbnNlLmRhdGEpOwoKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMjA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQudDEgPSBfY29udGV4dFsiY2F0Y2giXSgxMyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIioqTEVGVCBVU0VSIEVSUk9SKioiKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjM6CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMSwgOF0sIFsxMywgMjBdXSk7CiAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGNoYXR0ZXIoX3gpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgfSgpOwoKICAgICAgICAgICAgICBmaW5kT3RoZXIgPSBmdW5jdGlvbiBmaW5kT3RoZXIoY2hhdHRlcnMpIHsKICAgICAgICAgICAgICAgIHJldHVybiBjaGF0dGVyc1swXSA9PT0gcHJvcHMuaWQgPyBjaGF0dGVyc1sxXSA6IGNoYXR0ZXJzWzBdOwogICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgIGN1cnJlbnQgPSByZWYoZmluZE90aGVyKHByb3BzLnVzZXJzWzBdLmNoYXRlcnMpKTsKCiAgICAgICAgICAgICAgbG9hZCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICB2YXIgX3JlZjIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKG90aGVyLCBtc2dfaWQsIG1zZ3MpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICBvdGhlci50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50LnZhbHVlID0gZGF0YS5faWQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wcy5sb2FkZWQoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogZGF0YSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXNnX2lkOiBtc2dfaWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1zZ3M6IG1zZ3MKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBsb2FkKF94MiwgX3gzLCBfeDQpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIH0oKTsKCiAgICAgICAgICAgICAgbG9hZChjaGF0dGVyKHByb3BzLnVzZXJzWzBdKSwgcHJvcHMudXNlcnNbMF0uX2lkLnRvU3RyaW5nKCksIHByb3BzLnVzZXJzWzBdLm1lc3NhZ2VzKTsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwgewogICAgICAgICAgICAgICAgY3VycmVudDogY3VycmVudCwKICAgICAgICAgICAgICAgIGxvYWQ6IGxvYWQsCiAgICAgICAgICAgICAgICBjaGF0dGVyOiBjaGF0dGVyLAogICAgICAgICAgICAgICAgZmluZE90aGVyOiBmaW5kT3RoZXIKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUzKTsKICAgIH0pKSgpOwogIH0KfSk7"},{"version":3,"sources":["C:\\Users\\nizar\\OneDrive\\Documents\\github\\TediProject-1\\Antonis\\tediproject\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\nizar\\OneDrive\\Documents\\github\\TediProject-1\\Antonis\\tediproject\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\nizar\\OneDrive\\Documents\\github\\TediProject-1\\Antonis\\tediproject\\src\\components\\communicationPage\\chats.vue?vue&type=script&lang=ts"],"names":[],"mappings":"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","sourcesContent":["\r\nimport { defineComponent, PropType, ref } from 'vue'\r\nimport userChats from '../communicationPage/userChats.vue'\r\nimport { chatsListType, chatsMessagesType, userListType } from \"../../tsLibs/auth\"\r\nimport axios from 'axios'\r\n\r\nexport default defineComponent({\r\n    name: \"chats\",\r\n    props: {\r\n        id: {type: String, required: true},\r\n        loaded: {type: Function, required: true},\r\n        users: {type: Array as PropType<Array<chatsListType>>, required: true },\r\n    },\r\n    components: {\r\n        userChats,\r\n    },\r\n    async setup(props) {\r\n        const chatter = async(user: chatsListType) => {\r\n            if(user.chaters[0] === props.id){\r\n                try {\r\n                    const response = await axios.get(\"https://localhost:8000/users/\"+user.chaters[1])\r\n                    return response.data\r\n                }catch(err){\r\n                    console.log(\"**LEFT USER ERROR**\")\r\n                }\r\n            }else{\r\n                try {\r\n                    const response = await axios.get(\"https://localhost:8000/users/\"+user.chaters[0])\r\n                    return response.data\r\n                }catch(err){\r\n                    console.log(\"**LEFT USER ERROR**\")\r\n                }\r\n            }\r\n        }\r\n        const findOther = (chatters: Array<String>) =>{\r\n            return chatters[0] === props.id ? chatters[1] : chatters[0]\r\n        }\r\n        \r\n        const current = ref(findOther(props.users[0].chaters))\r\n        const load = async(other: Promise<userListType>, msg_id: string, msgs: Array<chatsMessagesType>) =>{\r\n            other.then(data =>{\r\n                current.value = data._id;\r\n                props.loaded({id: data, msg_id: msg_id, msgs: msgs})\r\n            })\r\n        }\r\n        load(chatter(props.users[0]), props.users[0]._id.toString(), props.users[0].messages)\r\n        return {current, load, chatter, findOther }\r\n    },\r\n})\r\n"],"sourceRoot":""}]}